% =======================================================
% =======         HEADER FOR DOCUMENT        ============
% =======================================================
    
    % *********  SPECIFIC FOR THIS BOOK  ********
    \def\ProjectAuthorLink{https://github.com/CompilandoConocimiento}
    \def\ProjectNameLink{\ProjectAuthorLink/CellularAutomata}    
    

    % *********   DOCUMENT ITSELF   **************
    \documentclass[12pt, fleqn]{report}                             %Type of doc and size of font and left equations
    \usepackage[margin=1.2in]{geometry}                             %Margins and Geometry pacakge
    \usepackage{ifthen}                                             %Allow simple programming using if - then
    \usepackage[hidelinks]{hyperref}                                %Allow to create hiperlinks and Fuck Firefox
    \usepackage{pdfpages}                                           %Allow us 'import' PDF's
    \hypersetup{pageanchor=false}                                   %Solve 'double page 1' warnings in build :v
    \setlength{\parindent}{0pt}                                     %Eliminate ugly indentation
    \author{Oscar Andrés Rosas}                                     %Who I am

    \usepackage{subcaption}

    % *********   LANGUAJE    *****************
    \usepackage[spanish]{babel}                                     %Please allow me to type in spanish
    \usepackage[utf8]{inputenc}                                     %Lets use UFT-8
    \usepackage[T1]{fontenc}                                        %Allow for better font support
    \usepackage{textcmds}                                           %Allow us to use quoutes
    \usepackage{changepage}                                         %Allow us to use identate paragraphs
    \usepackage{anyfontsize}                                        %All the sizes for fonts wiiiii!

    % *********   MATH AND HIS STYLE  *********
    \usepackage{ntheorem, amsmath, amssymb, amsfonts}               %All fucking math, I want all!
    \usepackage{mathrsfs, mathtools, empheq}                        %All fucking math, I want all!
    \usepackage{cancel}                                             %Negate symbol
    \usepackage{centernot}                                          %Allow me to negate a symbol
    \decimalpoint                                                   %Use decimal point

    % *********   GRAPHICS AND IMAGES *********
    \usepackage{graphicx}                                           %Allow to create graphics
    \usepackage{float}                                              %For images
    \usepackage{wrapfig}                                            %Allow to create images
    \graphicspath{ {Graphics/} }                                    %Where are the images :D

    % *********   LISTS AND TABLES ***********
    \usepackage{listings, listingsutf8}                             %We will be using code here
    \usepackage[inline]{enumitem}                                   %We will need to enumarate
    \usepackage{tasks}                                              %Horizontal lists
    \usepackage{longtable}                                          %Lets make tables awesome
    \usepackage{booktabs}                                           %Lets make tables awesome
    \usepackage{tabularx}                                           %Lets make tables awesome
    \usepackage{multirow}                                           %Lets make tables awesome
    \usepackage{multicol}                                           %Create multicolumns

    % *********   REMOVE SOME ERRORS **********
    \hbadness=10000                                                 %Ignore \vbox and \hbox warings
    \hfuzz=\maxdimen\newdimen\hfuzz                                 %Ignore \vbox and \hbox warings

    % *********   HEADERS AND FOOTERS ********
    \usepackage{fancyhdr}                                           %Lets make awesome headers/footers
    \pagestyle{fancy}                                               %Lets make awesome headers/footers
    \setlength{\headheight}{16pt}                                   %Top line
    \setlength{\parskip}{0.5em}                                     %Top line
    \renewcommand{\footrulewidth}{0.5pt}                            %Bottom line

    \lhead {                                                        %Left Header
        \hyperlink{chapter.\arabic{chapter}}                        %Make a link to the current chapter
        {\normalsize{\textsc{\nouppercase{\leftmark}}}}             %And fot it put the name
    }

    \rhead {                                                        %Right Header
        \hyperlink{section.\arabic{chapter}.\arabic{section}}       %Make a link to the current chapter
            {\footnotesize{\textsc{\nouppercase{\rightmark}}}}      %And fot it put the name
    }

    \rfoot{\textsc{\small{\hyperref[sec:Index]{Ve al Índice}}}}     %This will always be a footer  

    \fancyfoot[L]{                                                  %Algoritm for a changing footer
        \ifthenelse{\isodd{\value{page}}}                           %IF ODD PAGE:
            {\href{https://SoyOscarRH.github.io/}                   %DO THIS:
                {\footnotesize                                      %Send the page
                    {\textsc{Oscar Andrés Rosas}}}}                 %Send the page
            {\href{https://compilandoconocimiento.com}              %ELSE DO THIS: 
                {\footnotesize                                      %Send the author
                    {\textsc{Compilando Conocimiento}}}}            %Send the author
    }
    
    
% =======================================================
% ===================   COMMANDS    =====================
% =======================================================

    % =========================================
    % =======   NEW ENVIRONMENTS   ============
    % =========================================
    \newenvironment{Indentation}[1][0.75em]                         %Use: \begin{Inde...}[Num]...\end{Inde...}
        {\begin{adjustwidth}{#1}{}}                                 %If you dont put nothing i will use 0.75 em
        {\end{adjustwidth}}                                         %This indentate a paragraph
    
    \newenvironment{SmallIndentation}[1][0.75em]                    %Use: The same that we upper one, just 
        {\begin{adjustwidth}{#1}{}\begin{footnotesize}}             %footnotesize size of letter by default
        {\end{footnotesize}\end{adjustwidth}}                       %that's it
    
    \def \Eq {equation}                                             %Stupid Visual studio error
    \newenvironment{MultiLineEquation}[1]                           %Use: To create MultiLine equations
        {\begin{\Eq}\begin{alignedat}{#1}}                          %Use: \begin{Multi..}{Num. de Columnas}
        {\end{alignedat}\end{\Eq}}                                  %And.. that's it!
    
    \newenvironment{MultiLineEquation*}[1]                          %Use: To create MultiLine equations
        {\begin{\Eq*}\begin{alignedat}{#1}}                         %Use: \begin{Multi..}{Num. de Columnas}
        {\end{alignedat}\end{\Eq*}}                                 %And.. that's it!

    \newenvironment{largeEq} {\begingroup \large}{\endgroup}        %Make eq bigger
    \newenvironment{LargeEq} {\begingroup \Large}{\endgroup}        %Make eq bigger
    \newenvironment{HugeEq} {\begingroup \Huge}{\endgroup}          %Make eq bigger!

    % =========================================
    % == GENERAL TEXT & SYMBOLS ENVIRONMENTS ==
    % =========================================
    
    % =====  TEXT  ======================
    \newcommand \Quote              {\qq}                           %Use: \Quote to use quotes
    \newcommand \Over               {\overline}                     %Use: \Bar to use just for short
    \newcommand \ForceNewLine       {$\Space$\\}                    %Use it in theorems for example
    \newcommand \ForceColumnBreak   {\vfill\null\columnbreak}       %Use only in multicols
    \newcommand \Link[2] {\underline{\texttt{\href{#1}{#2}}}}       %Use a link

    % =====  SPACES  ====================
    \DeclareMathOperator \Space     {\quad}                         %Use: \Space for a cool mega space
    \DeclareMathOperator \MegaSpace {\quad \quad}                   %Use: \MegaSpace for a cool mega mega space
    \DeclareMathOperator \MiniSpace {\;}                            %Use: \Space for a cool mini space
    
    % =====  MATH TEXT  =================
    \newcommand \Such           {\MiniSpace | \MiniSpace}           %Use: \Such like in sets
    \newcommand \Also           {\MiniSpace \text{y} \MiniSpace}    %Use: \Also so it's look cool
    \newcommand \Remember[1]    {\Space\text{\scriptsize{#1}}}      %Use: \Remember so it's look cool
    
    % =====  THEOREMS: IN SPANISH :0  ===
    \newtheorem{Theorem}        {Teorema}[section]                  %Use: \begin{Theorem}[Name]\label{Nombre}...
    \newtheorem{Corollary}      {Colorario}[Theorem]                %Use: \begin{Corollary}[Name]\label{Nombre}...
    \newtheorem{Lemma}[Theorem] {Lemma}                             %Use: \begin{Lemma}[Name]\label{Nombre}...
    \newtheorem{Definition}     {Definición}[section]               %Use: \begin{Definition}[Name]\label{Nombre}...
    \theoremstyle{break}                                            %THEOREMS START 1 SPACE AFTER Fuck!

    % =====  LOGIC  =====================
    \newcommand \lIff    {\leftrightarrow}                          %Use: \lIff for logic iff
    \newcommand \lEqual  {\MiniSpace \Leftrightarrow \MiniSpace}    %Use: \lEqual for a logic double arrow
    \newcommand \lInfire {\MiniSpace \Rightarrow \MiniSpace}        %Use: \lInfire for a logic infire
    \newcommand \lLongTo {\longrightarrow}                          %Use: \lLongTo for a long arrow
    \newcommand \lAnd    {\land}                                    %Use: \lAnd ^
    \newcommand \lOr     {\lor}                                     %Use: \lOr or symbol
    \newcommand \lNot    {\neg}                                     %Use: \lNot for negation

    % =====  FAMOUS SETS  ===============
    \DeclareMathOperator \Naturals     {\mathbb{N}}                 %Use: \Naturals por Notation
    \DeclareMathOperator \Primes       {\mathbb{P}}                 %Use: \Primes por Notation
    \DeclareMathOperator \Integers     {\mathbb{Z}}                 %Use: \Integers por Notation
    \DeclareMathOperator \Racionals    {\mathbb{Q}}                 %Use: \Racionals por Notation
    \DeclareMathOperator \Reals        {\mathbb{R}}                 %Use: \Reals por Notation
    \DeclareMathOperator \Complexs     {\mathbb{C}}                 %Use: \Complex por Notation
    \DeclareMathOperator \GenericField {\mathbb{F}}                 %Use: \GenericField por Notation
    \DeclareMathOperator \VectorSet    {\mathbb{V}}                 %Use: \VectorSet por Notation
    \DeclareMathOperator \SubVectorSet {\mathbb{W}}                 %Use: \SubVectorSet por Notation
    \DeclareMathOperator \Polynomials  {\mathbb{P}}                 %Use: \Polynomials por Notation
    \DeclareMathOperator \VectorSpace  {\VectorSet_{\GenericField}} %Use: \VectorSpace por Notation
    \DeclareMathOperator \LinealTransformation {\mathcal{T}}        %Use: \LinealTransformation for a cool T
    \DeclareMathOperator \LinTrans      {\mathcal{T}}               %Use: \LinTrans for a cool T
    \DeclareMathOperator \Laplace       {\mathcal{L}}               %Use: \LinTrans for a cool T

    % =====  CONTAINERS   ===============
    \newcommand{\Set}[1]            {\left\{ \; #1 \; \right\}}     %Use: \Set {Info} for INTELLIGENT space 
    \newcommand{\bigSet}[1]         {\big\{  \; #1 \; \big\}}       %Use: \bigSet  {Info} for space 
    \newcommand{\BigSet}[1]         {\Big\{  \; #1 \; \Big\}}       %Use: \BigSet  {Info} for space 
    \newcommand{\biggSet}[1]        {\bigg\{ \; #1 \; \bigg\}}      %Use: \biggSet {Info} for space 
    \newcommand{\BiggSet}[1]        {\Bigg\{ \; #1 \; \Bigg\}}      %Use: \BiggSet {Info} for space 
        
    \newcommand{\Wrap}[1]           {\left( #1 \right)}             %Use: \Wrap {Info} for INTELLIGENT space
    \newcommand{\bigWrap}[1]        {\big( \; #1 \; \big)}          %Use: \bigBrackets  {Info} for space 
    \newcommand{\BigWrap}[1]        {\Big( \; #1 \; \Big)}          %Use: \BigBrackets  {Info} for space 
    \newcommand{\biggWrap}[1]       {\bigg( \; #1 \; \bigg)}        %Use: \biggBrackets {Info} for space 
    \newcommand{\BiggWrap}[1]       {\Bigg( \; #1 \; \Bigg)}        %Use: \BiggBrackets {Info} for space 

    \newcommand{\Brackets}[1]       {\left[ #1 \right]}             %Use: \Brackets {Info} for INTELLIGENT space
    \newcommand{\bigBrackets}[1]    {\big[ \; #1 \; \big]}          %Use: \bigBrackets  {Info} for space 
    \newcommand{\BigBrackets}[1]    {\Big[ \; #1 \; \Big]}          %Use: \BigBrackets  {Info} for space 
    \newcommand{\biggBrackets}[1]   {\bigg[ \; #1 \; \bigg]}        %Use: \biggBrackets {Info} for space 
    \newcommand{\BiggBrackets}[1]   {\Bigg[ \; #1 \; \Bigg]}        %Use: \BiggBrackets {Info} for space 

    \newcommand{\Generate}[1]   {\left\langle #1 \right\rangle}     %Use: \Generate {Info} <>
    \newcommand{\Floor}[1]      {\left \lfloor #1 \right \rfloor}   %Use: \Floor {Info} for floor 
    \newcommand{\Ceil}[1]       {\left \lceil #1 \right \rceil }    %Use: \Ceil {Info} for ceil
    
    % =====  BETTERS MATH COMMANDS   =====
    \newcommand{\pfrac}[2]      {\Wrap{\dfrac{#1}{#2}}}             %Use: Put fractions in parentesis
    \newcommand{\Sum}           {\displaystyle \sum}                %Use: Sum to big sum
    \newcommand{\Int}           {\displaystyle \int}                %Use: Sum to big integral


    % =========================================
    % ====   LINEAL ALGEBRA & VECTORS    ======
    % =========================================

    % ===== UNIT VECTORS  ================
    \newcommand{\hati}      {\hat{\imath}}                           %Use: \hati for unit vector    
    \newcommand{\hatj}      {\hat{\jmath}}                           %Use: \hatj for unit vector    
    \newcommand{\hatk}      {\hat{k}}                                %Use: \hatk for unit vector

    % ===== MAGNITUDE  ===================
    \newcommand{\abs}[1]    {\left\lvert #1 \right\lvert}           %Use: \abs{expression} for |x|
    \newcommand{\Abs}[1]    {\left\lVert #1 \right\lVert}           %Use: \Abs{expression} for ||x||
    \newcommand{\Mag}[1]    {\left| #1 \right|}                     %Use: \Mag {Info} 
    
    \newcommand{\bVec}[1]   {\mathbf{#1}}                           %Use for bold type of vector
    \newcommand{\lVec}[1]   {\overrightarrow{#1}}                   %Use for a long arrow over a vector
    \newcommand{\uVec}[1]   {\mathbf{\hat{#1}}}                     %Use: Unitary Vector Example: $\uVec{i}

    % ===== FN LINEAL TRANSFORMATION  ====
    \newcommand{\FnLinTrans}[1]{\mathcal{T}\Wrap{#1}}               %Use: \FnLinTrans for a cool T
    \newcommand{\VecLinTrans}[1]{\mathcal{T}\pVector{#1}}           %Use: \LinTrans for a cool T
    \newcommand{\FnLinealTransformation}[1]{\mathcal{T}\Wrap{#1}}   %Use: \FnLinealTransformation

    % ===== ALL FOR DOT PRODUCT  =========
    \makeatletter                                                   %WTF! IS THIS
    \newcommand*\dotP{\mathpalette\dotP@{.5}}                       %Use: \dotP for dot product
    \newcommand*\dotP@[2] {\mathbin {                               %WTF! IS THIS            
        \vcenter{\hbox{\scalebox{#2}{$\m@th#1\bullet$}}}}           %WTF! IS THIS
    }                                                               %WTF! IS THIS
    \makeatother                                                    %WTF! IS THIS

    % === WRAPPERS FOR COLUMN VECTOR ===
    \newcommand{\pVector}[1]                                        %Use: \pVector {Matrix Notation} use parentesis
        { \ensuremath{\begin{pmatrix}#1\end{pmatrix}} }             %Example: \pVector{a\\b\\c} or \pVector{a&b&c} 
    \newcommand{\lVector}[1]                                        %Use: \lVector {Matrix Notation} use a abs 
        { \ensuremath{\begin{vmatrix}#1\end{vmatrix}} }             %Example: \lVector{a\\b\\c} or \lVector{a&b&c} 
    \newcommand{\bVector}[1]                                        %Use: \bVector {Matrix Notation} use a brackets 
        { \ensuremath{\begin{bmatrix}#1\end{bmatrix}} }             %Example: \bVector{a\\b\\c} or \bVector{a&b&c} 
    \newcommand{\Vector}[1]                                         %Use: \Vector {Matrix Notation} no parentesis
        { \ensuremath{\begin{matrix}#1\end{matrix}} }               %Example: \Vector{a\\b\\c} or \Vector{a&b&c}

    % === MAKE MATRIX BETTER  =========
    \makeatletter                                                   %Example: \begin{matrix}[cc|c]
    \renewcommand*\env@matrix[1][*\c@MaxMatrixCols c] {             %WTF! IS THIS
        \hskip -\arraycolsep                                        %WTF! IS THIS
        \let\@ifnextchar\new@ifnextchar                             %WTF! IS THIS
        \array{#1}                                                  %WTF! IS THIS
    }                                                               %WTF! IS THIS
    \makeatother                                                    %WTF! IS THIS
    
    \newcommand{\adotP}[2] {\left< #1, #2 \right> }                 %Use for <x, y>
    \newcommand{\wdotP}[2] {\Wrap{ #1, #2 } }                       %Use for (x, y)
    \newcommand{\cdotP}[2] {\Wrap{ #1 \dotP #2 } }                  %Use for (x * y)


    % =========================================
    % =======   FAMOUS FUNCTIONS   ============
    % =========================================

    % == TRIGONOMETRIC FUNCTIONS  ====
    \newcommand{\Cos}[1] {\cos\Wrap{#1}}                            %Simple wrappers
    \newcommand{\Sin}[1] {\sin\Wrap{#1}}                            %Simple wrappers
    \newcommand{\Tan}[1] {tan\Wrap{#1}}                             %Simple wrappers
    
    \newcommand{\Sec}[1] {sec\Wrap{#1}}                             %Simple wrappers
    \newcommand{\Csc}[1] {csc\Wrap{#1}}                             %Simple wrappers
    \newcommand{\Cot}[1] {cot\Wrap{#1}}                             %Simple wrappers

    % === COMPLEX ANALYSIS TRIG ======
    \newcommand \Cis[1]  {\Cos{#1} + i \Sin{#1}}                    %Use: \Cis for cos(x) + i sin(x)
    \newcommand \pCis[1] {\Wrap{\Cis{#1}}}                          %Use: \pCis for the same with parantesis
    \newcommand \bCis[1] {\Brackets{\Cis{#1}}}                      %Use: \bCis for the same with Brackets


    % =========================================
    % ===========     CALCULUS     ============
    % =========================================

    % ====== TRANSFORMS =============
    \newcommand{\FourierT}[1]   {\mathscr{F} \left\{ #1 \right\} }  %Use: \FourierT {Funtion}
    \newcommand{\InvFourierT}[1]{\mathscr{F}^{-1}\left\{#1\right\}} %Use: \InvFourierT {Funtion}

    % ====== DERIVATIVES ============
    \newcommand \MiniDerivate[1][x]   {\dfrac{d}{d #1}}             %Use: \MiniDerivate[var] for simple use [var]
    \newcommand \Derivate[2]          {\dfrac{d \; #1}{d #2}}       %Use: \Derivate [f(x)][x]
    \newcommand \MiniUpperDerivate[2] {\dfrac{d^{#2}}{d#1^{#2}}}    %Mini Derivate High Orden Derivate -- [x][pow]
    \newcommand \UpperDerivate[3] {\dfrac{d^{#3} \; #1}{d#2^{#3}}}  %Complete High Orden Derivate -- [f(x)][x][pow]
    
    \newcommand \MiniPartial[1][x] {\dfrac{\partial}{\partial #1}}  %Use: \MiniDerivate for simple use [var]
    \newcommand \Partial[2] {\dfrac{\partial \; #1}{\partial #2}}   %Complete Partial Derivate -- [f(x)][x]
    \newcommand \MiniUpperPartial[2]                                %Mini Derivate High Orden Derivate -- [x][pow] 
        {\dfrac{\partial^{#2}}{\partial #1^{#2}}}                   %Mini Derivate High Orden Derivate
    \newcommand \UpperPartial[3]                                    %Complete High Orden Derivate -- [f(x)][x][pow]
        {\dfrac{\partial^{#3} \; #1}{\partial#2^{#3}}}              %Use: \UpperDerivate for simple use

    \DeclareMathOperator \Evaluate  {\Big|}                         %Use: \Evaluate por Notation

    % ====== INTEGRALS ============
    \newcommand{\inftyInt} {\int_{-\infty}^{\infty}}                %Use: \inftyInt for simple integrants
    
        
% =======================================================
% ===========      COLOR: MATERIAL DESIGN     ===========
% =======================================================

    % =====  COLORS ==================
    \definecolor{RedMD}{HTML}{F44336}                               %Use: Color :D        
    \definecolor{Red100MD}{HTML}{FFCDD2}                            %Use: Color :D        
    \definecolor{Red200MD}{HTML}{EF9A9A}                            %Use: Color :D        
    \definecolor{Red300MD}{HTML}{E57373}                            %Use: Color :D        
    \definecolor{Red700MD}{HTML}{D32F2F}                            %Use: Color :D 

    \definecolor{PurpleMD}{HTML}{9C27B0}                            %Use: Color :D        
    \definecolor{Purple100MD}{HTML}{E1BEE7}                         %Use: Color :D        
    \definecolor{Purple200MD}{HTML}{EF9A9A}                         %Use: Color :D        
    \definecolor{Purple300MD}{HTML}{BA68C8}                         %Use: Color :D        
    \definecolor{Purple700MD}{HTML}{7B1FA2}                         %Use: Color :D 

    \definecolor{IndigoMD}{HTML}{3F51B5}                            %Use: Color :D        
    \definecolor{Indigo100MD}{HTML}{C5CAE9}                         %Use: Color :D        
    \definecolor{Indigo200MD}{HTML}{9FA8DA}                         %Use: Color :D        
    \definecolor{Indigo300MD}{HTML}{7986CB}                         %Use: Color :D        
    \definecolor{Indigo700MD}{HTML}{303F9F}                         %Use: Color :D 

    \definecolor{BlueMD}{HTML}{2196F3}                              %Use: Color :D        
    \definecolor{Blue100MD}{HTML}{BBDEFB}                           %Use: Color :D        
    \definecolor{Blue200MD}{HTML}{90CAF9}                           %Use: Color :D        
    \definecolor{Blue300MD}{HTML}{64B5F6}                           %Use: Color :D        
    \definecolor{Blue700MD}{HTML}{1976D2}                           %Use: Color :D        
    \definecolor{Blue900MD}{HTML}{0D47A1}                           %Use: Color :D  

    \definecolor{CyanMD}{HTML}{00BCD4}                              %Use: Color :D        
    \definecolor{Cyan100MD}{HTML}{B2EBF2}                           %Use: Color :D        
    \definecolor{Cyan200MD}{HTML}{80DEEA}                           %Use: Color :D        
    \definecolor{Cyan300MD}{HTML}{4DD0E1}                           %Use: Color :D        
    \definecolor{Cyan700MD}{HTML}{0097A7}                           %Use: Color :D        
    \definecolor{Cyan900MD}{HTML}{006064}                           %Use: Color :D 

    \definecolor{TealMD}{HTML}{009688}                              %Use: Color :D        
    \definecolor{Teal100MD}{HTML}{B2DFDB}                           %Use: Color :D        
    \definecolor{Teal200MD}{HTML}{80CBC4}                           %Use: Color :D        
    \definecolor{Teal300MD}{HTML}{4DB6AC}                           %Use: Color :D        
    \definecolor{Teal700MD}{HTML}{00796B}                           %Use: Color :D        
    \definecolor{Teal900MD}{HTML}{004D40}                           %Use: Color :D 

    \definecolor{GreenMD}{HTML}{4CAF50}                             %Use: Color :D        
    \definecolor{Green100MD}{HTML}{C8E6C9}                          %Use: Color :D        
    \definecolor{Green200MD}{HTML}{A5D6A7}                          %Use: Color :D        
    \definecolor{Green300MD}{HTML}{81C784}                          %Use: Color :D        
    \definecolor{Green700MD}{HTML}{388E3C}                          %Use: Color :D        
    \definecolor{Green900MD}{HTML}{1B5E20}                          %Use: Color :D

    \definecolor{AmberMD}{HTML}{FFC107}                             %Use: Color :D        
    \definecolor{Amber100MD}{HTML}{FFECB3}                          %Use: Color :D        
    \definecolor{Amber200MD}{HTML}{FFE082}                          %Use: Color :D        
    \definecolor{Amber300MD}{HTML}{FFD54F}                          %Use: Color :D        
    \definecolor{Amber700MD}{HTML}{FFA000}                          %Use: Color :D        
    \definecolor{Amber900MD}{HTML}{FF6F00}                          %Use: Color :D

    \definecolor{OrangeMD}{HTML}{ff9800}                            %Use: Color :D        
    \definecolor{Orange100MD}{HTML}{ffe0b2}                         %Use: Color :D        
    \definecolor{Orange200MD}{HTML}{ffcc80}                         %Use: Color :D        
    \definecolor{Orange300MD}{HTML}{ffb74d}                         %Use: Color :D        
    \definecolor{Orange700MD}{HTML}{fb8c00}                         %Use: Color :D        
    \definecolor{Orange900MD}{HTML}{ef6c00}                         %Use: Color :D

    \definecolor{BlueGreyMD}{HTML}{607D8B}                          %Use: Color :D        
    \definecolor{BlueGrey100MD}{HTML}{CFD8DC}                       %Use: Color :D        
    \definecolor{BlueGrey200MD}{HTML}{B0BEC5}                       %Use: Color :D        
    \definecolor{BlueGrey300MD}{HTML}{90A4AE}                       %Use: Color :D        
    \definecolor{BlueGrey700MD}{HTML}{455A64}                       %Use: Color :D        
    \definecolor{BlueGrey900MD}{HTML}{263238}                       %Use: Color :D        

    \definecolor{DeepPurpleMD}{HTML}{673AB7}                        %Use: Color :D

    \definecolor{SolarizedBase}{HTML}{fdf6e3}                       %Use: Color :D
    \definecolor{SolarizedFont}{HTML}{073642}                       %Use: Color :D

    % =====  ENVIRONMENT ==============
    \newcommand{\Color}[2]{\textcolor{#1}{#2}}                      %Simple color environment
    \newenvironment{ColorText}[1]                                   %Use: \begin{ColorText}
        { \leavevmode\color{#1}\ignorespaces }                      %That's is!


% =======================================================
% ===========           CODE EDITING          ===========
% =======================================================

    \newcommand{\fontCode}        { \ttfamily\bfseries }            %Use: \fontCode for font
    \newcommand{\fontCodeTiny}    { \fontCode\tiny }                %Sizes
    \newcommand{\fontCodeFoot}    { \fontCode\footnotesize }        %Sizes
    \newcommand{\fontCodeScript}  { \fontCode\scriptsize }          %Sizes
    \newcommand{\fontCodeCostume} { \fontCode\fontsize{10}{7} }     %Sizes
   

    % =====  CODE EDITOR =============
    \lstdefinestyle{CompilandoStyle} {                              %This is Code Style
        backgroundcolor     = \color{BlueGrey900MD},                %Background Color  
        basicstyle          = \fontCodeTiny\color{white},           %Style of text
        commentstyle        = \color{BlueGrey200MD},                %Comment style
        stringstyle         = \color{Green300MD},                   %String style
        keywordstyle        = \color{Blue300MD},                    %keywords style
        numberstyle         = \tiny\color{TealMD},                  %Size of a number
        frame               = none,                                 %Adds a frame around the code
        breakatwhitespace   = true,                                 %Style   
        breaklines          = true,                                 %Style   
        showstringspaces    = false,                                %Hate those spaces                  
        breaklines          = true,                                 %Style                   
        keepspaces          = true,                                 %Style                   
        numbers             = left,                                 %Style                   
        numbersep           = 10pt,                                 %Style 
        xleftmargin         = \parindent,                           %Style 
        tabsize             = 4,                                    %Style
        inputencoding       = utf8/latin1                           %Allow me to use special chars
    }

    % =====  CODE EDITOR =============
    \lstdefinestyle{CompilandoStylePurity} {                        %This is Code Style
        backgroundcolor     = \color{white},                        %Background Color  
        basicstyle          = \fontCodeTiny\color{BlueGrey900MD},   %Style of text
        commentstyle        = \color{Green300MD},                   %Comment style
        stringstyle         = \color{Teal700MD},                    %String style
        keywordstyle        = \color{Blue700MD},                    %keywords style
        numberstyle         = \tiny\color{TealMD},                  %Size of a number
        frame               = none,                                 %Adds a frame around the code
        breakatwhitespace   = true,                                 %Style   
        breaklines          = true,                                 %Style   
        showstringspaces    = false,                                %Hate those spaces                  
        breaklines          = true,                                 %Style                   
        keepspaces          = true,                                 %Style                   
        numbers             = left,                                 %Style                   
        numbersep           = 11pt,                                 %Style 
        xleftmargin         = \parindent,                           %Style 
        tabsize             = 4,                                    %Style
        inputencoding       = utf8/latin1                           %Allow me to use special chars
    }

    % =====  CODE EDITOR =============
    \lstdefinestyle{CompilandoStyleSolarized} {                     %This is Code Style
        backgroundcolor     = \color{SolarizedBase},                %Background Color  
        basicstyle          = \fontCodeTiny\color{SolarizedFont},   %Style of text
        commentstyle        = \color{Green300MD},                   %Comment style
        stringstyle         = \color{Teal700MD},                    %String style
        keywordstyle        = \color{Blue700MD},                    %keywords style
        numberstyle         = \tiny\color{TealMD},                  %Size of a number
        frame               = none,                                 %Adds a frame around the code
        breakatwhitespace   = true,                                 %Style   
        breaklines          = true,                                 %Style   
        showstringspaces    = false,                                %Hate those spaces                  
        breaklines          = true,                                 %Style                   
        keepspaces          = true,                                 %Style                   
        numbers             = none,                                 %Style                   
        tabsize             = 4,                                    %Style
        inputencoding       = utf8/latin1                           %Allow me to use special chars
    }
 
    \lstset{style = CompilandoStyleSolarized}                          %Use this style



% =====================================================
% ============        COVER PAGE       ================
% =====================================================
\begin{document}
\begin{titlepage}
    
    % ============ TITLE PAGE STYLE  ================
    \definecolor{TitlePageColor}{cmyk}{1,.60,0,.40}                 %Simple colors
    \definecolor{ColorSubtext}{cmyk}{1,.50,0,.10}                   %Simple colors
    \newgeometry{left=0.25\textwidth}                               %Defines an Offset
    \pagecolor{TitlePageColor}                                      %Make it this Color to page
    \color{white}                                                   %General things should be white

    % ===== MAKE SOME SPACE =========
    \vspace                                                         %Give some space
    \baselineskip                                                   %But we need this to up command

    % ============ NAME OF THE PROJECT  ============
    \makebox[0pt][l]{\rule{1.3\textwidth}{3pt}}                     %Make a cool line
    
    \href{https://compilandoconocimiento.com}                       %Link to project
    {\textbf{\textsc{\Huge Instituto Politécnico Nacional, Escuela Superior de Cómputo}}}\\[2.7cm]      %Name of project   

    % ============ NAME OF THE BOOK  ===============
    \href{\ProjectNameLink}                                         %Link to Author
    {\fontsize{45}{52}\selectfont \textbf{Autómata Celulares y diagramas de atracción}}\\[0.5cm] %Name of the book
    \textcolor{ColorSubtext}{\textsc{\Huge Sistemas Complejos}}     %Name of the general theme
    
    \vfill                                                          %Fill the space
    
    % ============ NAME OF THE AUTHOR  =============
    \href{\ProjectAuthorLink}                                       %Link to Author
    {\LARGE \textsf{Oscar Andrés Rosas Hernandez}}                  %Author

    % ===== MAKE SOME SPACE =========
    \vspace                                                         %Give some space
    \baselineskip                                                   %But we need this to up command
    
    {\large \textsf{\today}}                                        %Date

\end{titlepage}


% =====================================================
% ==========      RESTORE TO DOCUMENT      ============
% =====================================================
\restoregeometry                                                    %Restores the geometry
\nopagecolor                                                        %Use to restore the color to white




% =====================================================
% ========                INDICE              =========
% =====================================================
\tableofcontents{}
\label{sec:Index}

\clearpage


\part{Marco Teórico}
\clearpage

  \chapter{Autómata celulares}

        \clearpage
        \section{Definición}

        Los autómatas celulares son modelos matemáticos que valga la redundancia, modelan
        sistemas dinámicos, los cuales evolucionan con el paso del tiempo. Los autómatas
        celulares fueron descubiertos por John von Neumann en la década de 1940, y fue
        descrito en su libro Theory of Self-reproducing Automata. John von Neumann tenía
        como objetivo modelar una máquina, que fuese capaz de auto replicarse, al intentar
        esto llego a un modelo matemático, el cual describe a dicha máquina con ciertas
        reglas sobre una red rectangular.

        Como ya se ha mencionado anteriormente, un autómata celular es un modelo matemático
        para un sistema dinámico, este sistema evoluciona con el paso del tiempo. El autómata celular está compuesto por células o celdas las cuales adquieren ciertos valores
        o estados. Al ser este un sistema dinámico y al evolucionar a través del tiempo
        los estados o valores que tienen las células cambian de un instante a otro, esto en
        unidades de tiempo discreto, en otras palabras es posible hacer una cuantización.
        Siendo así, el cunjunto de células evolucionan según la expresión matemática, la cual
        evolucionará según los estados de las células vecinas, a esto se le conoce como regla
        de transición local.
        
      \subsection{Caracteristicas}
      \begin{itemize}
        \item Son discretos tanto en tiempo como en espacio
        \item Son homogeneos tanto en tiempo como en espacio 
        (la misma regla es aplicada a todas las celulas al mismo tiempo)
        \item Sus interacciones son locales
      \end{itemize}

      Para especificar una autómata celular, debemos especificar los siguientes 
      elementos (algunos de los cuales pueden ser claros por el contexto):
      \begin{itemize}
        \item La dimensión $d \in Z^+$,
        \item El conjunto de estados finitos $S$
        \item Una vecindad N de celdas
        \item La función de activación $f: S^m \to S$
      \end{itemize}

      Por lo tanto, definimos formalmente a un autómata celular 
      correspondiente como la 4-tupla $A = (d, S, N, f)$.

  \chapter{Juego de la vida y parecidos}

    Para esta práctica se ha creado nuestro primer autómata celular, el cual cumple la
    función local del "Juego de la vida". El juego de la vida es un autómata celular
    que fue diseñado por el matemático John Horton Conway en 1970. Este se trata
    de un juego de cero jugadores, es decir, el estado de evolución está definido por el
    estado inicial y no requiere entrada de datos alguna posteriormente. El tablero de
    este juego es una matriz formada con células (espacios cuadrados) que se extienden
    por el infinito a toda dirección. Cada célula tiene ocho células vecinas, que son las
    que están más próximas a ella, incluidas las diagonales, de forma gráfica.
    
    El “tablero del juego” es una malla plana formada por cuadrados
    (las células) que se extienden por el infinito en todas las direcciones. Por
    lo tanto, cada célula tiene 8 células “vecinas”, que son las que están más
    próximas a ella, incluidas las diagonales. Las células tienen dos estados: están
    “vivas” o están “muertas” (o “encendidas” y “apagadas”). El estado de las
    células evoluciona a lo largo de unidades de tiempo discretas (se podría decir
    que por turnos). El estado de todas las células se tiene en cuenta para calcular
    el estado de las mismas al turno siguiente. Todas las células se actualizan
    simultáneamente en cada turno. Siguiendo las reglas R(2, 3, 3, 3).
    
    El “tablero del juego” es una malla plana formada
    por cuadrados (las células) que se extienden por el infinito en todas las
    direcciones. Por lo tanto, cada célula tiene 8 células “vecinas”.

      Aqui dejo algunas caputas de pantallas:
      \begin{figure}[ht!]
        \centering
        \includegraphics[width=0.35\textwidth]{Game1.png}
        \includegraphics[width=0.35\textwidth]{Game2.png}
        \includegraphics[width=0.35\textwidth]{Game3.png}
        \includegraphics[width=0.35\textwidth]{Game4.png}
      \end{figure}


  \chapter{Diagramas de Atracción}

      Los diagramas de atracción son un sistema que nos permiten comprender de mejor manera como es que se relacionan
      los posible estados de un automata.

      Estos son especialmente buenos para encontrar lo que se conoce como puntos estacionarios en los que un estado tras uno
      o una serie de pasos cae en un ciclo finito de estados por el que pasa indefinidamente.

      Ademas como su nombre lo indica nos permiten ver de manera sencilla los atractores, es decir estamos que estamos conectados
      a muchos mas.
      
      Para crearlos seguimos varios pasos.

      \section{Crear una enumeración}
        Lo primero que vamos a hacer es tener una forma de enumerar los posibles estados en los que puede estar el universo de nuestro
        automata, es muy importante ser claro en esta enumeración, pues una vez creada solo vamos a trabajar con enteros.

        Para hacerla tome como inspiracion la tecnica de spagetificacion, esta consiste en tomar nuestro grid en 2d y apastarlo
        para conseguir un grid en 1D, luego como es que los automatas que vamos a ver solo tienen una sola dimension entonces
        podemos hacer algo muy sencillo, considerar ese tira 1D de estados y entenderla como un secuencia de bits, con ella
        podemos llegar a un numero, veamos un ejemplo con un 2x2.

        \begin{figure}[ht!]
          \centering
          \includegraphics[height=0.8\textwidth]{enu1.png}
          \includegraphics[height=0.8\textwidth]{enu2.png}
          \includegraphics[height=0.8\textwidth]{enu3.png}
        \end{figure}

        Ahora bien, con la enumeración lista podemos movernos a la parte principal.


      \section{Creando el simulador de Game of Life like en Rust}

        Ahora vamos a dar un repaso rapido a como creamos nuestro simulador en Rust:
        \lstinputlisting[language=C, linerange={1-16}, gobble=4]{../create.rs}

        En esta parte del codigo vamos a definir lo que es una celda y el universo, que contiene un grupo de celdas
        asi como los parametros de la regla: $R(s_{min}, s_{max}, b_{min}, b_{max})$.

        Recordemos que esta notacion quiere decir que una celula viva va a seguir viva si solo si
        esta entre $s_{min}, s_{max}$ y que una celula muerta va a morir si y solo si 
        esta entre $b_{min}, b_{max}$.

        De esta manera el simulador es bastante generico.

        Ahora con esto listo estamos listo para la siguiente parte:
        \lstinputlisting[language=C, linerange={18-73}, gobble=4]{../create.rs}

        Con este codigo lo que vamos a hacer es implementar en si las partes interesantes, como calcular
        el proximo estado de nuestro universo y como mostrarlo por pantalla como lo hicimos en la seccion
        anterior.

        Finalmente vamos por la parte que nos interesa para los diagramas.
        \lstinputlisting[language=C, linerange={79-110}, gobble=4]{../create.rs}

        En esta parte vamos a implementar una funcion sencilla que dada un entero (una enumeracion dada)
        va a crear un universo en ese estado y va a dejar pasar una unidad de tiempo y nos va a decir en que
        estado se encuentra ahora.
        

        Finalmente podemos ver que Rust no es un buen lenguaje para ponernos a graficar, por lo que haremos
        ayuda de Python para graficar nuestro diagrama.

        Para hacerlo haremos que Rust cree el script en python
        \lstinputlisting[language=C, linerange={112-123}, gobble=4]{../create.rs}

        Y ahora podemos ejecutarlo con python y ver como se.


        
    \chapter{El Juego de la vida: R(2, 3, 3, 3)}

        \section{2x2}

        El juego de la vida en 2x2 es un muy buen inicio:
        Al tener solo 4 celulas podemos saber rapidamente que hay 16 posible estados del universo, podemos 
        ver rapidamente a que estado va cada otro:
        \begin{lstlisting}[gobble=9]
          (0, 0)
          (1, 0)
          (2, 0)
          (3, 3)
          (4, 0)
          (5, 5)
          (6, 0)
          (7, 0)
          (8, 0)
          (9, 0)
          (10, 10)
          (11, 0)
          (12, 12)
          (13, 0)
          (14, 0)
          (15, 0)
        \end{lstlisting}

        Y podemos ver el diagrama final:
        \begin{figure}[ht!]
          \centering
          \includegraphics[height=0.4\textwidth]{2life.png}
        \end{figure}

        Nota que por la biblioteca que usamos si un nodo no tiene arista lo que
        quiere decir es que esta conectado a si mismo.

        Con el diagrama a la vista podemos ver varios detalles:
        \begin{itemize}
          \item Por un lado el 0 es un gran atractor, de hecho casi todos se van con el
          \item Y el cero obviamente se queda en cero
          \item Tenemos otros 4 estados que son estacionarios, es decir que nuca van a cambiar.
        \end{itemize}

      \clearpage
      \section{3x3}

        El juego de la vida en 3x3 es de mis favoritos, eso si ya tien 512 estados el diagrama, por
        lo que senti como un gasto no necesario escribirlos pero es muy sencillo hacerlo.

        Lo que podemos ver mejor es el diagrama final:
        \begin{figure}[ht!]
          \centering
          \includegraphics[height=\textwidth]{3life.png}
        \end{figure}

        Nota que por la biblioteca que usamos si un nodo no tiene arista lo que
        quiere decir es que esta conectado a si mismo.

        Con el diagrama a la vista podemos ver varios detalles, este ya se puso mucho mas interesante:
        \begin{itemize}
          \item Por un lado el 0 es un gran atractor, de hecho casi la mitad decaen en el
          \item Por otro lado ahora tenemos otro atractor, el 511, es decir tener todas celdas encendidas, muchos
          de los estados van hacia el
          \item Algo interesante es que el 511 decae al 0
          \item Finalmente tenemos muchos estados estacionarios, es decir que permanecen en el estado que tenian
          de manera indefinida.
        \end{itemize}

        Ademas usando Wolfram Cloud podemos ver otra forma de ver le mismo grafo:

        \begin{figure}[ht!]
          \centering
          \includegraphics[height=0.8\textwidth]{life3x3.png}
          \caption{Game of Life 3x3}
        \end{figure}

        \begin{figure}[ht!]
          \centering
          \includegraphics[height=0.4\textwidth]{life3x31.png}
          \caption{Game of Life 3x3}
        \end{figure}

        \begin{figure}[ht!]
          \centering
          \includegraphics[height=0.8\textwidth]{life3x32.png}
          \caption{Game of Life 3x3}
        \end{figure}

      \clearpage
      \section{4x4}

        El juego de la vida en 4x4 es de los diagramas mas dificiles que me toco hacer, de hecho fue por 
        este que me acabe decantando por la libreria que uso para graficar, porque es la unica que lo
        soportaba.

        Lo que podemos fragmentos del diagrama final:
        \begin{figure}[ht!]
          \centering
          \includegraphics[height=0.4\textwidth]{4life0.png}
          \includegraphics[height=0.4\textwidth]{4life1.png}
          \includegraphics[height=0.4\textwidth]{4life2.png}
          \includegraphics[height=0.4\textwidth]{4life3.png}
          \includegraphics[height=0.4\textwidth]{4life4.png}
          \includegraphics[height=0.4\textwidth]{4life5.png}
        \end{figure}

       Fue lo mejor que se pudo hacer, pero por lo poco que se puede ver, vemos que tenemos igualmente al cero como el
       gran maximo, pero que a su alrededor hay varios cumulos de nodos.

       Ademas usando Wolfram Cloud podemos ver otra forma de ver le mismo grafo, que si que da mas informacion:
        \begin{figure}[ht!]
          \centering
          \includegraphics[height=\textwidth]{life4x4.png}
          \caption{Game of Life 4x4}
        \end{figure}

       \clearpage
       \section{5x5}

        Lo intente de mil maneras, incluyendo a Google Colab y Wolfram Cloud, y si bien eran capaces de crear
        el diagrama, habia tantos nodos que era imposible sacar algo de informacion del mismo.

      \clearpage
    \chapter{Difusión: R(7, 7, 2, 2)}

        \section{2x2}

       igual es pequeño y podemos escribir a mano los nodos del diagrama
        \begin{lstlisting}[gobble=9]
          (0, 0)
          (1, 6)
          (2, 9)
          (3, 0)
          (4, 9)
          (5, 0)
          (6, 0)
          (7, 0)
          (8, 6)
          (9, 0)
          (10, 0)
          (11, 0)
          (12, 0)
          (13, 0)
          (14, 0)
          (15, 0)
        \end{lstlisting}

        Y podemos ver el diagrama final:
        \begin{figure}[ht!]
          \centering
          \includegraphics[height=0.4\textwidth]{dif2.png}
        \end{figure}

        Con el diagrama a la vista podemos ver varios detalles:
        \begin{itemize}
          \item Por un lado el 0 es un gran atractor, de hecho casi todos se van con el
          \item Y el cero obviamente se queda en cero
          \item El 9 es el resultado el estado 4, 2
          \item El 9 cae tambien al cero :c
          \item El 6 es el resultado el estado 8, 1
          \item El 6 cae tambien al cero :c
        \end{itemize}

      \clearpage
      \section{3x3}

        \begin{figure}[ht!]
          \centering
          \includegraphics[height=\textwidth]{dif3.png}
        \end{figure}

        \begin{itemize}
          \item El 0 sigue siendo el gran atractor
          \item Hay una serie de estados que son estaticos, estos son: 255, 383, 447, 479, 495, 503, 507, 509, 510.
          \item Hay tambien una serie de nodos que no caen directamente a cero, sino que caen a un estado intermedio
          y luego a cero.
          \item Todos los demas caen a cero en t+1.
        \end{itemize}

      \clearpage
      \section{4x4}

        El 4x4 me dejo sin palabras, solo mira:
        \begin{figure}[ht!]
          \centering
          \includegraphics[height=0.4\textwidth]{dif46.png}
          \includegraphics[height=0.4\textwidth]{dif41.png}
          \includegraphics[height=0.4\textwidth]{dif42.png}
          \includegraphics[height=0.4\textwidth]{dif43.png}
          \includegraphics[height=0.4\textwidth]{dif44.png}
          \includegraphics[height=0.4\textwidth]{dif45.png}
          \caption{Difusión 4x4}
        \end{figure}

        Cuanta complejidad.

        Ademas usando Wolfram Cloud podemos ver otra forma de ver le mismo grafo, que si que da mas informacion:
        \begin{figure}[ht!]
          \centering
          \includegraphics[height=\textwidth]{dif4x4.png}
          \caption{Difusión 4x4}
        \end{figure}

        \begin{figure}[ht!]
          \centering
          \includegraphics[height=\textwidth]{dif4x42.png}
          \caption{Difusión 4x4}
        \end{figure}

       \section{5x5}

        Lo intente de mil maneras, incluyendo a Google Colab y Wolfram Cloud, y si bien eran capaces de crear
        el diagrama, habia tantos nodos que era imposible sacar algo de informacion del mismo.



\begin{thebibliography}{10}

  \bibitem{Kari} 
      \textit{Cellular Automata}. 
      Jarkko Kari, Spring 2013 \\
      \url{https://www.cs.tau.ac.il/~nachumd/models/CA.pdf}

  \bibitem{Wolfram} 
      \textit{A New Kind of Science}. 
      Wolfram Stephen, 2002 \\


\bibitem{5} 
\textit{Introduccion a los automatas celulares elementales}. 
Carlos Zacarias Reyes Martinez \\
Escuela Superior de Computo

\end{thebibliography}



\end{document}